(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95504,e=>{"use strict";var a=e.i(43476),s=e.i(71645);function t({product:e,onAdd:s,onView:t}){return(0,a.jsxs)("div",{className:"product-card card-modern product-card",role:"button",children:[(0,a.jsxs)("div",{className:"product-media",children:[e.images&&e.images[0]||e.image?(0,a.jsx)("img",{src:e.images&&e.images[0]||e.image,alt:e.name,className:"object-cover w-full h-full"}):(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Imagen"}),(0,a.jsx)("div",{className:"product-overlay"}),(0,a.jsx)("div",{className:"tag-badge",children:"Orgánico"}),(0,a.jsxs)("div",{className:"price-ribbon",children:["$",e.price.toFixed(2)]}),(0,a.jsx)("button",{className:"quick-view",onClick:e=>{e.stopPropagation(),t&&t()},children:"Ver galería"})]}),(0,a.jsxs)("div",{className:"product-body",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h3",{className:"product-title",children:e.name})}),(0,a.jsx)("p",{className:"product-meta",children:e.category}),(0,a.jsx)("div",{className:"product-actions",children:(0,a.jsx)("button",{onClick:a=>{a.stopPropagation(),s(e)},className:"btn-add",children:"Añadir"})})]})]})}function i({product:e,onClose:t,onAdd:i}){let[r,c]=(0,s.useState)(1),l=e.images&&e.images.length?e.images:e.image?[e.image]:[],[o,n]=(0,s.useState)(0);return(0,a.jsx)("div",{className:"modal-backdrop",children:(0,a.jsxs)("div",{className:"modal-panel",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"image-wrapper",style:{borderRadius:12,overflow:"hidden"},children:[l.length?(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)("img",{src:l[o],alt:`${e.name} ${o+1}`,style:{width:"100%",height:420,objectFit:"cover"}}),(0,a.jsx)("button",{onClick:()=>n(e=>(e-1+l.length)%l.length),className:"btn-secondary",style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)"},children:"‹"}),(0,a.jsx)("button",{onClick:()=>n(e=>(e+1)%l.length),className:"btn-secondary",style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)"},children:"›"})]}):(0,a.jsx)("div",{className:"w-full h-64 bg-gray-100"}),(0,a.jsx)("div",{className:"mt-3 flex gap-2 overflow-auto",children:l.map((e,s)=>(0,a.jsx)("button",{onClick:()=>n(s),style:{border:s===o?"2px solid var(--primary)":"2px solid transparent",padding:0,borderRadius:8,overflow:"hidden"},children:(0,a.jsx)("img",{src:e,alt:`thumb-${s}`,style:{width:96,height:64,objectFit:"cover",display:"block"}})},s))})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:e.name}),(0,a.jsxs)("div",{className:"text-lg font-bold text-[#4A7C2F]",children:["$",e.price.toFixed(2)]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Categoría: ",e.category]}),(0,a.jsxs)("div",{className:"mt-6 flex items-center gap-3",children:[(0,a.jsx)("input",{type:"number",value:r,min:1,onChange:e=>c(Math.max(1,Number(e.target.value)||1)),className:"form-input"}),(0,a.jsx)("button",{onClick:()=>i(e,r),className:"btn-add",children:"Añadir al carrito"})]})]})]}),(0,a.jsx)("button",{onClick:t,className:"modal-close","aria-label":"Cerrar",children:"×"})]})})}var r=e.i(35025);let c=[{id:"p1",name:"Mermelada de Arándano Orgánica",price:5.5,category:"Mermeladas",images:["https://images.unsplash.com/photo-1544025162-d76694265947?auto=format&fit=crop&w=1200&q=80","https://images.unsplash.com/photo-1505250469679-203ad9ced0cb?auto=format&fit=crop&w=1200&q=80"],description:"Hecha con frutas locales."},{id:"p2",name:"Artesanía: Jarro de Barro",price:25,category:"Artesanias",images:["https://images.unsplash.com/photo-1524758631624-e2822e304c36?auto=format&fit=crop&w=1200&q=80"],description:"Hecha a mano por artesanos locales."},{id:"p3",name:"Mermelada de Fresa Orgánica",price:4.75,category:"Mermeladas",images:["https://images.unsplash.com/photo-1502741126161-b048400d8f27?auto=format&fit=crop&w=1200&q=80"],description:"Dulce tradicional sin conservantes."},{id:"p4",name:"Paquete de Café Tostado",price:8.9,category:"Alimentos",images:["https://images.unsplash.com/photo-1511407397940-d57f68e81203?auto=format&fit=crop&w=1200&q=80"],description:"Café de la región, tueste medio."},{id:"p5",name:"Artesanía: Tejido Tradicional",price:18,category:"Artesanias",images:["https://images.unsplash.com/photo-1520975913550-5b0b1b2c4e9b?auto=format&fit=crop&w=1200&q=80"],description:"Tejido hecho a mano con tintes naturales."}];function l(){let[e,l]=(0,s.useState)("Todos"),[o,n]=(0,s.useState)(""),[d,m]=(0,s.useState)(null),{addItem:h}=(0,r.useCart)(),p=(0,s.useMemo)(()=>["Todos",...Array.from(new Set(c.map(e=>e.category||"Otros")))],[]),u=c.filter(a=>("Todos"===e||a.category===e)&&(a.name.toLowerCase().includes(o.toLowerCase())||(a.description||"").toLowerCase().includes(o.toLowerCase())));return(0,a.jsxs)("section",{className:"container-custom py-6",children:[(0,a.jsxs)("div",{className:"mb-6 shop-top",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"heading-medium",children:"Tienda"}),(0,a.jsx)("p",{className:"small-muted",children:"Artesanías, mermeladas orgánicas y productos locales."})]}),(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsx)("input",{value:o,onChange:e=>n(e.target.value),placeholder:"Buscar productos, p. ej. mermelada",className:"search-input"})})]}),(0,a.jsx)("div",{className:"chips mb-6",children:p.map(s=>(0,a.jsx)("div",{onClick:()=>l(s),className:`chip ${s===e?"active":""}`,children:s},s))}),(0,a.jsx)("div",{className:"shop-grid",children:u.map(e=>(0,a.jsx)("div",{className:"cursor-pointer",children:(0,a.jsx)(t,{product:e,onAdd:e=>h(e,1),onView:()=>m(e)})},e.id))}),d&&(0,a.jsx)(i,{product:d,onClose:()=>m(null),onAdd:(e,a=1)=>{h(e,a),m(null)}})]})}e.s(["default",()=>l],95504)},12902,e=>{"use strict";var a=e.i(43476),s=e.i(22016),t=e.i(35025);function i(){let{items:e,removeItem:i,updateQty:r,total:c,clearCart:l}=(0,t.useCart)();return e.length?(0,a.jsxs)("div",{className:"cart-box",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Tu carrito"}),(0,a.jsx)("ul",{className:"mt-4",children:e.map(e=>(0,a.jsxs)("li",{className:"cart-item",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"name",children:e.name}),(0,a.jsxs)("div",{className:"small-muted",children:["$",(e.price*e.quantity).toFixed(2)," • ",e.quantity," unidad(es)"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",value:e.quantity,min:1,onChange:a=>r(e.id,Number(a.target.value)||1),className:"form-input",style:{width:80}}),(0,a.jsx)("button",{onClick:()=>i(e.id),className:"text-sm text-red-500",children:"Eliminar"})]})]},e.id))}),(0,a.jsxs)("div",{className:"cart-total",children:[(0,a.jsx)("div",{children:"Total"}),(0,a.jsxs)("div",{children:["$",c.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>l(),className:"btn-secondary",children:"Vaciar"}),(0,a.jsx)(s.default,{href:"/sierra-negra/checkout",className:"btn-primary",children:"Pagar"})]})]}):(0,a.jsxs)("div",{className:"cart-box",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Tu carrito está vacío"}),(0,a.jsx)("p",{className:"small-muted mt-4",children:"Añade productos para verlos aquí."}),(0,a.jsx)(s.default,{href:"/sierra-negra/products",className:"btn-secondary mt-6 inline-block",children:"Ir a tienda"})]})}e.s(["default",()=>i])}]);